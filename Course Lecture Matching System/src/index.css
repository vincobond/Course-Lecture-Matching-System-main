@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-neutral-200;
  }
  
  body {
    @apply bg-neutral-50 text-neutral-900 font-inter;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-inter font-semibold;
  }

  /* Prevent white flash on page load */
  html {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  }

  body {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Prevent body scroll when loader is active */
  body.loader-active {
    overflow: hidden;
    height: 100vh;
  }

  /* Universal loader animations */
  .universal-loader {
    animation: fadeIn 0.3s ease-in-out;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 9999 !important;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .loader-progress {
    transition: width 0.3s ease-out;
  }

  .loader-step {
    animation: slideInUp 0.5s ease-out;
  }

  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Ensure loader content is always centered */
  .universal-loader > div {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    width: 100% !important;
    max-width: 28rem !important;
    margin: 0 auto !important;
    padding: 1rem !important;
  }

  /* Mobile-specific loader adjustments */
  @media (max-width: 640px) {
    .universal-loader > div {
      padding: 0.75rem !important;
      max-width: 24rem !important;
    }
  }

  /* Extra small devices */
  @media (max-width: 480px) {
    .universal-loader > div {
      padding: 0.5rem !important;
      max-width: 20rem !important;
    }
  }

  /* Landscape mobile */
  @media (max-height: 500px) and (orientation: landscape) {
    .universal-loader > div {
      padding: 0.5rem !important;
      max-width: 32rem !important;
    }
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 text-sm sm:text-base;
  }
  
  .btn-secondary {
    @apply bg-neutral-200 hover:bg-neutral-300 text-neutral-900 font-medium py-2 px-4 rounded-lg transition-colors duration-200 text-sm sm:text-base;
  }
  
  .btn-success {
    @apply bg-success hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 text-sm sm:text-base;
  }
  
  .btn-error {
    @apply bg-error hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 text-sm sm:text-base;
  }
  
  .card {
    @apply bg-white rounded-lg shadow-sm border border-neutral-200 p-4 sm:p-6;
  }
  
  .input-field {
    @apply w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm sm:text-base;
  }
  
  .dashboard-container {
    @apply min-h-screen bg-neutral-50;
  }
  
  .dashboard-header {
    @apply bg-white border-b border-neutral-200 px-4 sm:px-6 py-4;
  }
  
  .dashboard-content {
    @apply p-4 sm:p-6;
  }
  
  /* Mobile-first responsive utilities */
  .mobile-menu {
    @apply lg:hidden;
  }
  
  .desktop-menu {
    @apply hidden lg:flex;
  }
  
  .responsive-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6;
  }
  
  .responsive-text {
    @apply text-sm sm:text-base;
  }
  
  .responsive-heading {
    @apply text-lg sm:text-xl lg:text-2xl;
  }
  
  /* Mobile-specific utilities */
  .mobile-full-width {
    @apply w-full sm:w-auto;
  }
  
  .mobile-stack {
    @apply flex flex-col sm:flex-row;
  }
  
  .mobile-center {
    @apply items-center justify-center sm:justify-start;
  }
  
  .mobile-text {
    @apply text-sm sm:text-base;
  }
  
  .mobile-padding {
    @apply p-4 sm:p-6;
  }
  
  .mobile-gap {
    @apply gap-2 sm:gap-4;
  }
  
  /* Touch-friendly interactions */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
  
  .mobile-button {
    @apply touch-target flex items-center justify-center;
  }
  
  /* Mobile navigation */
  .mobile-nav-item {
    @apply touch-target flex items-center justify-between p-3 rounded-lg;
  }
  
  /* Responsive tables */
  .mobile-table {
    @apply block sm:table;
  }
  
  .mobile-table-header {
    @apply hidden sm:table-header-group;
  }
  
  .mobile-table-body {
    @apply block sm:table-row-group;
  }
  
  .mobile-table-row {
    @apply block sm:table-row border-b border-neutral-200 mb-4 sm:mb-0;
  }
  
  .mobile-table-cell {
    @apply block sm:table-cell p-2 sm:p-4;
  }
}
